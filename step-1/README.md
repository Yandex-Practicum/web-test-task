### Чек-лист для проверки

---

Важно: вам не нужно покрывать тестами весь список. Всё зависит от вас. Но помните, что р*а*боты могут быть с очень разной реализацией.

- **step-1**
    - Ошибки при выполнении команды `npm run start` и `npm run dev`.
    - В .gitignore **не добавлено исключение node_modules.
    - Реализован не весь обязательный функционал.
    - Отправляется вопрос по работе, работа сделана не полностью.
    - На повторных итерациях не исправлены критические замечания.
    
    В проекте есть:
    
    - `package.json`;
    - `.editorconfig`;
    - `.eslintrc`, который расширяет конфигурацию `airbnb-base`, а также нужные для работы линтера dev-зависимости;
    - `.gitignore`. Как минимум в этот файл добавлена папка node_modules.
    - в проекте есть package.json;
    
    При этом:
    
    - `package.json` не содержит лишних зависимостей.
    - В `package.json` добавлена команда `lint` с содержанием `npx eslint .`. При её запуске отсутствуют ошибки.
    - Добавлено исключение для идентификатора `_id`.
    - Команда `npm run start` запускает сервер на localhost:3000.
    - Команда `npm run dev` запускает сервер с хот релоудом на localhost:3000.
    - При запуске приложение подключается к серверу mongo по адресу:
        
        mongodb://localhost:27017/mestodb.
        
    - В приложении описана схема пользователя с полями name (строка от 2 до 30 символов, обязательное поле), about (строка от 2 до 30 символов, обязательное поле) и avatar (строка, обязательное поле). Все поля валидируются.
    - В приложении описана схема карточки с полями name (строка от 2 до 30 символов, обязательное поле), link (строка, обязательное поле), owner (ObjectId, обязательное поле), likes (массив ObjectId, по умолчанию пустой), createdAt (дата создания, по умолчанию `Date.now`).
    - В файлах схем создаются и экспортируются модели с именами `user` и `card`.
    - При обновлении пользователя или карточек в options передаётся `new: true`.
    
    Для пользователей работают роуты:
    
    - GET /users — возвращает всех пользователей из базы;
    - GET /users/:userId — возвращает пользователя по `_id`;
    - POST /users — создаёт пользователя с переданными в теле запроса name, about и avatar;
    - PATCH /users/me — обновляет профиль;
    - PATCH /users/me/avatar — обновляет аватар.
    
    Для карточек работают роуты:
    
    - GET /cards — возвращает все карточки из базы;
    - POST /cards — создаёт карточку с переданными в теле запроса `name` и `link`, устанавливает поле `owner` для карточки;
    - DELETE /cards/:cardId — удаляет карточку по `_id`;
    - PUT /cards/:cardId/likes — ставит лайк карточке (при добавлении в базу используется addToSet);
    - DELETE /cards/:cardId/likes — убирает лайк с карточки (при удалении из базы используется pull).
    
    Если в любом из запросов что-то идёт не так, сервер возвращает ответ с ошибкой и соответствующим ей статусом:
    
    - **400** — переданы некорректные данные в методы создания карточки, пользователя, обновления аватара пользователя или профиля;
    - **404** — карточка или пользователь не найден или был запрошен несуществующий роут;
    - **500** — ошибка по умолчанию. Сопровождается сообщением: «На сервере произошла ошибка»;
        
        Перед отправкой ошибки не забудьте её проверить, например так:
        
        ```
        const ERROR_CODE = 400;
        
        if(err.name === 'SomeErrorName') return res.status(ERROR_CODE).send(...)
        
        ```
        
    - В контроллерах предусмотрена гарантированная отправка сообщения об ошибке.
    - Статусы ошибок вынесены в константы.
    - Ответ с ошибкой содержит только поле `message`. Сообщение об ошибке соответствует её типу.
    - При успешном ответе сервера возвращается json.
    - При разных запросах сервер не падает и в консоли нет ошибок.
    - Нет ошибок линтинга.
    
    Также:
    
    - В проекте используется es6, где это возможно.
    - У проекта ясная структура, код разбит на роуты, модели и контроллеры.
    
    ![https://code.s3.yandex.net/web-developer/web-task-test/Artboard_1.png](https://code.s3.yandex.net/web-developer/web-task-test/Artboard_1.png)
